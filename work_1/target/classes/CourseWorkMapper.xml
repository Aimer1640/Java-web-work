<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.mapper.CourseWorkMapper">
<!--	2040706101 杨艾琳-->

<!--学生提交作业-->
	<insert id="uploadWork" parameterType="coursework">
		insert into tb_coursework(upload_id,student_id,project_id,upload_file,state) values(#{uploadId},#{studentId},#{projectId},#{uploadFile},#{state})
	</insert>
<!--学生修改已提交作业信息-->
	<update id="updateWork" parameterType="coursework">
		update tb_coursework set upload_file=#{uploadFile} where upload_id=#{uploadId}
	</update>
<!--撤回已提交的作业-->
	<delete id="retructWork" parameterType="string">
		delete from tb_coursework where upload_id=#{upload_id}
	</delete>
<!--根据学生id查询提交的作业-->
	<select id="findWorkByStuId" parameterType="string" resultType="coursework">
		select * from tb_coursework where student_id=#{studentId}
	</select>

	<!--根据作业id查询提交的作业-->
	<select id="findWorkByProjectId" parameterType="string" resultType="coursework">
		select * from tb_coursework where project_id=#{projectId}
	</select>
<!--查询所有已提交作业-->
	<select id="findAllWork" resultType="coursework">
		select * from tb_coursework
	</select>
</mapper>
